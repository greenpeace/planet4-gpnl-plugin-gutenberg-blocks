{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/blocks/Inforequest/js/InforequestHelper.js"],"names":["request_form_element","check_form_element","form_config","$","document","ready","auth","URLSearchParams","window","location","search","has","hider","nextAll","hide","html","after","readCookie","show","on","btn","form","data","post_form_value","getFormObj","action","nonce","literaturecode","toggleDisable","find","human","showErrorMessage","ajax","type","url","ajaxUrl","success","prepend","createCookie","enableDownloadlinks","error","remove","el","formObj","inputs","serializeArray","each","i","input","name","value","append","href","prop","days","date","Date","setTime","getTime","cookie","encodeURI","domain","toGMTString","nameEQ","ca","split","length","c","charAt","substring","indexOf","cover","link","attr"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA,IAAIA,oBAAoB,GAAG,EAA3B;AACA,IAAIC,kBAAkB,GAAG,EAAzB;AACA,IAAIC,WAAW,GAAG,qBAAlB;AAEAC,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B,MAAIC,IAAI,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,EAA4CC,GAA5C,CAAgD,GAAhD,CAAX;;AACA,MAAK,QAAQH,MAAM,CAACN,WAAD,CAAN,CAAoBU,KAAjC,EAAyC;AACvCT,KAAC,CAAC,uBAAD,CAAD,CAA2BU,OAA3B,GAAqCC,IAArC;AACAX,KAAC,CAAC,qBAAD,CAAD,CAAyBY,IAAzB,CAA8B,kCAA9B;AACAZ,KAAC,CAAC,qBAAD,CAAD,CAAyBa,KAAzB,CAA+B,6FAA/B;AACD;;AACD,MAAI,SAASC,UAAU,CAAC,gBAAD,CAAnB,IAAyCX,IAA7C,EAAmD;AACjDH,KAAC,CAAC,qBAAD,CAAD,CAAyBY,IAAzB,CAA8B,wBAA9B;AACAZ,KAAC,CAAC,uBAAD,CAAD,CAA2BY,IAA3B,CAAgC,qDAAhC;AACAZ,KAAC,CAAC,uBAAD,CAAD,CAA2BU,OAA3B,GAAqCK,IAArC,CAA0C,IAA1C;AACD,GAJD,MAKI;AACFf,KAAC,CAAC,cAAD,CAAD,CAAkBe,IAAlB,CAAuB,IAAvB;AACD;AACF,CAfD;AAiBAf,CAAC,CAAC,cAAD,CAAD,CAAkBgB,EAAlB,CAAqB,OAArB,EAA8B,YAAY;AACxC,MAAIC,GAAG,GAAGjB,CAAC,CAAC,IAAD,CAAX;AACA,MAAIkB,IAAI,GAAID,GAAG,CAACE,IAAJ,CAAS,QAAT,CAAZ;AACAnB,GAAC,CAACkB,IAAD,CAAD,CAAQH,IAAR,CAAa,IAAb;AACAf,GAAC,CAAC,cAAD,CAAD,CAAkBW,IAAlB,CAAuB,IAAvB;AACD,CALD;AAOAX,CAAC,CAAC,mBAAD,CAAD,CAAuBgB,EAAvB,CAA0B,OAA1B,EAAmC,YAAY;AAC7ChB,GAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa,IAAb;AACAX,GAAC,CAAC,cAAD,CAAD,CAAkBe,IAAlB,CAAuB,IAAvB;AACD,CAHD;AAKAf,CAAC,CAAC,qBAAD,CAAD,CAAyBgB,EAAzB,CAA4B,QAA5B,EAAsC,YAAY;AAChDnB,sBAAoB,GAAG,IAAvB;AACA,MAAIuB,eAAe,GAAGC,UAAU,CAACxB,oBAAD,CAAhC;AACAuB,iBAAe,CAACE,MAAhB,GAAyB,sBAAzB;AACAF,iBAAe,CAACG,KAAhB,GAAyBlB,MAAM,CAACN,WAAD,CAAN,CAAoBwB,KAA7C;AACAH,iBAAe,CAACI,cAAhB,GAAkCnB,MAAM,CAACN,WAAD,CAAN,CAAoByB,cAAtD;AAEAC,eAAa,CAACzB,CAAC,CAACH,oBAAD,CAAD,CAAwB6B,IAAxB,CAA6B,GAA7B,CAAD,CAAb;;AACA,MAAIN,eAAe,CAACO,KAAhB,KAA0B,EAA9B,EAAkC;AAChCC,oBAAgB,CAAC/B,oBAAD,CAAhB;AACA;AACD;;AAEDG,GAAC,CAAC6B,IAAF,CAAO;AACLC,QAAI,EAAK,MADJ;AAELC,OAAG,EAAM1B,MAAM,CAACN,WAAD,CAAN,CAAoBiC,OAFxB;AAGLb,QAAI,EAAKC,eAHJ;AAILa,WAAO,EAAE,mBAAW;AAClBjC,OAAC,CAACH,oBAAD,CAAD,CAAwB6B,IAAxB,CAA6B,GAA7B,EAAkCf,IAAlC,CAAuC,IAAvC;AACAX,OAAC,CAAC,qBAAD,CAAD,CAAyBY,IAAzB,CAA8B,sCAA9B;AACAZ,OAAC,CAACH,oBAAD,CAAD,CAAwBqC,OAAxB,CAAgC,qDAAhC;;AACA,UAAI,SAASpB,UAAU,CAAC,YAAD,CAAvB,EAAsC;AACpCqB,oBAAY,CAAC,gBAAD,EAAmB,CAAnB,EAAsB,GAAtB,CAAZ;;AACA,YAAI9B,MAAM,CAACN,WAAD,CAAN,CAAoBU,KAApB,KAA8B,GAAlC,EAAuC;AACrCT,WAAC,CAAC,uBAAD,CAAD,CAA2BU,OAA3B,GAAqCK,IAArC,CAA0C,IAA1C;AACAf,WAAC,CAAC,uBAAD,CAAD,CAA2BW,IAA3B,CAAgC,IAAhC;AAED;AACF,OAPD,MAQI;AACFyB,2BAAmB;AACpB;AAEF,KApBI;AAqBLC,SAAK,EAAE,iBAAU;AACf;AACAT,sBAAgB,CAAC/B,oBAAD,CAAhB;AACD;AAxBI,GAAP;AA0BD,CAvCD;AAyCAG,CAAC,CAAC,mBAAD,CAAD,CAAuBgB,EAAvB,CAA0B,QAA1B,EAAoC,YAAY;AAC9ClB,oBAAkB,GAAG,IAArB;AACA,MAAIsB,eAAe,GAAGC,UAAU,CAACvB,kBAAD,CAAhC;AACAsB,iBAAe,CAACE,MAAhB,GAAyB,oBAAzB;AACAF,iBAAe,CAACG,KAAhB,GAAyBlB,MAAM,CAACN,WAAD,CAAN,CAAoBwB,KAA7C;AAEAE,eAAa,CAACzB,CAAC,CAACF,kBAAD,CAAD,CAAsB4B,IAAtB,CAA2B,GAA3B,CAAD,CAAb;;AACA,MAAIN,eAAe,CAACO,KAAhB,KAA0B,EAA9B,EAAkC;AAChCC,oBAAgB,CAAC9B,kBAAD,CAAhB;AACA;AACD;;AAEDE,GAAC,CAAC6B,IAAF,CAAO;AACLC,QAAI,EAAK,MADJ;AAELC,OAAG,EAAM1B,MAAM,CAACN,WAAD,CAAN,CAAoBiC,OAFxB;AAGLb,QAAI,EAAKC,eAHJ;AAILa,WAAO,EAAE,mBAAW;AAClBjC,OAAC,CAACF,kBAAD,CAAD,CAAsB4B,IAAtB,CAA2B,GAA3B,EAAgCf,IAAhC,CAAqC,IAArC;AACAX,OAAC,CAAC,qBAAD,CAAD,CAAyBY,IAAzB,CAA8B,wBAA9B;AACAZ,OAAC,CAACF,kBAAD,CAAD,CAAsBoC,OAAtB,CAA8B,qDAA9B;;AACA,UAAI,SAASpB,UAAU,CAAC,YAAD,CAAvB,EAAsC;AACpCqB,oBAAY,CAAC,gBAAD,EAAmB,CAAnB,EAAsB,GAAtB,CAAZ;;AACA,YAAI9B,MAAM,CAACN,WAAD,CAAN,CAAoBU,KAApB,KAA8B,GAAlC,EAAuC;AACrCT,WAAC,CAAC,uBAAD,CAAD,CAA2BU,OAA3B,GAAqCK,IAArC,CAA0C,IAA1C;AACAf,WAAC,CAAC,uBAAD,CAAD,CAA2BW,IAA3B,CAAgC,IAAhC;AACD;AACF,OAND,MAOK;AACHyB,2BAAmB;AACpB;AAEF,KAnBI;AAoBLC,SAAK,EAAE,iBAAU;AACf;AACArC,OAAC,CAAC,WAAD,CAAD,CAAesC,MAAf,CAAsB,GAAtB;AACAtC,OAAC,CAAC,mBAAD,CAAD,CAAuBW,IAAvB,CAA4B,IAA5B;AACAX,OAAC,CAAC,qBAAD,CAAD,CAAyBkC,OAAzB,CAAiC,kEAAjC;AACAlC,OAAC,CAAC,qBAAD,CAAD,CAAyBe,IAAzB,CAA8B,IAA9B;AACAf,OAAC,CAAC,cAAD,CAAD,CAAkBsC,MAAlB,CAAyB,GAAzB;AACD;AA3BI,GAAP;AA6BD,CAzCD,E,CA2CA;;AACA,SAASjB,UAAT,CAAoBkB,EAApB,EAAwB;AACtB,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,MAAM,GAAGzC,CAAC,CAACuC,EAAD,CAAD,CAAMG,cAAN,EAAb;AACA1C,GAAC,CAAC2C,IAAF,CAAOF,MAAP,EAAe,UAAUG,CAAV,EAAaC,KAAb,EAAoB;AACjCL,WAAO,CAACK,KAAK,CAACC,IAAP,CAAP,GAAsBD,KAAK,CAACE,KAA5B;AACD,GAFD;AAGA,SAAOP,OAAP;AACD;;AAED,SAASZ,gBAAT,CAA0B/B,oBAA1B,EAAgD;AAC9CG,GAAC,CAACH,oBAAD,CAAD,CAAwB6B,IAAxB,CAA6B,GAA7B,EAAkCf,IAAlC;AACAX,GAAC,CAACH,oBAAD,CAAD,CAAwBmD,MAAxB,CAA+B,SAA/B;AACAhD,GAAC,CAACH,oBAAD,CAAD,CAAwBmD,MAAxB,CAA+B,2CAA/B;AACAhD,GAAC,CAACH,oBAAD,CAAD,CAAwBmD,MAAxB,CACE,eAAa3C,MAAM,CAACC,QAAP,CAAgB2C,IAA7B,GAAmC,sCAAnC,GACA,iCAFF;AAGD,C,CAED;;;AACA,SAASxB,aAAT,CAAuBc,EAAvB,EAA2B;AACzBA,IAAE,CAACW,IAAH,CAAQ,UAAR,EAAoB,CAACX,EAAE,CAACW,IAAH,CAAQ,UAAR,CAArB;AACD;;AAED,SAASf,YAAT,CAAsBW,IAAtB,EAA4BC,KAA5B,EAAmCI,IAAnC,EAAyC;AACvC,MAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACAD,MAAI,CAACE,OAAL,CAAaF,IAAI,CAACG,OAAL,KAAkBJ,IAAI,GAAG,EAAP,GAAY,EAAZ,GAAiB,EAAjB,GAAsB,IAArD;AACAlD,UAAQ,CAACuD,MAAT,GAAkBC,SAAS,CAACX,IAAD,CAAT,GAAkB,GAAlB,GAAwBW,SAAS,CAACV,KAAD,CAAjC,GAA2C,WAA3C,GAAyD9C,QAAQ,CAACyD,MAAlE,GAA2E,UAA3E,GAAwF,YAAxF,GAAuGN,IAAI,CAACO,WAAL,EAAzH;AACD;;AAED,SAAS7C,UAAT,CAAoBgC,IAApB,EAA0B;AACxB,MAAIc,MAAM,GAAGd,IAAI,GAAG,GAApB;AACA,MAAIe,EAAE,GAAG5D,QAAQ,CAACuD,MAAT,CAAgBM,KAAhB,CAAsB,GAAtB,CAAT;;AACA,OAAK,IAAIlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,EAAE,CAACE,MAAvB,EAA+BnB,CAAC,EAAhC,EAAoC;AAClC,QAAIoB,CAAC,GAAGH,EAAE,CAACjB,CAAD,CAAV;;AACA,WAAOoB,CAAC,CAACC,MAAF,CAAS,CAAT,MAAgB,GAAvB,EAA4B;AAC1BD,OAAC,GAAGA,CAAC,CAACE,SAAF,CAAY,CAAZ,EAAeF,CAAC,CAACD,MAAjB,CAAJ;AACD;;AACD,QAAIC,CAAC,CAACG,OAAF,CAAUP,MAAV,MAAsB,CAA1B,EAA6B;AAC3B,aAAOI,CAAC,CAACE,SAAF,CAAYN,MAAM,CAACG,MAAnB,EAA2BC,CAAC,CAACD,MAA7B,CAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAED,SAAS3B,mBAAT,GAA+B;AAC7BpC,GAAC,CAAC,oBAAD,CAAD,CAAwB2C,IAAxB,CAA6B,YAAU;AACrC,QAAIyB,KAAK,GAAG,IAAZ;AACApE,KAAC,CAACoE,KAAD,CAAD,CAAS1C,IAAT,CAAc,GAAd,EAAmBiB,IAAnB,CAAwB,YAAU;AAChC,UAAI0B,IAAI,GAAG,IAAX;AACA,UAAIpB,IAAI,GAAGjD,CAAC,CAAC,IAAD,CAAD,CAAQsE,IAAR,CAAa,MAAb,CAAX;AACAtE,OAAC,CAACqE,IAAD,CAAD,CAAQC,IAAR,CAAa,MAAb,EAAqBrB,IAAI,GAAG,MAA5B;AACD,KAJD;AAKD,GAPD;AAQD,C","file":"inforequestHelper.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/blocks/Inforequest/js/InforequestHelper.js\");\n","var request_form_element = {};\nvar check_form_element = {};\nvar form_config = 'request_form_object';\n\n$(document).ready(function() {\n  let auth = new URLSearchParams(window.location.search).has('e');\n  if ( '1' === window[form_config].hider ) {\n    $('.inforequest__wrapper').nextAll().hide();\n    $('.inforequest__title').html('<h3>Lesmateriaal downloaden</h3>');\n    $('.inforequest__title').after('<p class=\"inforequest__message\">Registreer of log in om het lesmateriaal te downloaden.</p>');\n  }\n  if (null !== readCookie('gpnl_education') || auth ){\n    $('.inforequest__title').html('<h3>Welkom terug!</h3>');\n    $('.inforequest__message').html('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n    $('.inforequest__wrapper').nextAll().show(1000);\n  }\n  else{\n    $('.hideshowbtn').show(1000);\n  }\n});\n\n$('.hideshowbtn').on('click', function () {\n  let btn = $(this);\n  let form  = btn.data('target');\n  $(form).show(1000);\n  $('.hideshowbtn').hide(1000);\n});\n\n$('.inforequest_form').on('reset', function () {\n  $(this).hide(1000);\n  $('.hideshowbtn').show(1000);\n});\n\n$('.gpnl-request__form').on('submit', function () {\n  request_form_element = this;\n  var post_form_value = getFormObj(request_form_element);\n  post_form_value.action = 'request_form_process';\n  post_form_value.nonce  = window[form_config].nonce;\n  post_form_value.literaturecode  = window[form_config].literaturecode;\n\n  toggleDisable($(request_form_element).find('*'));\n  if (post_form_value.human !== '') {\n    showErrorMessage(request_form_element);\n    return;\n  }\n\n  $.ajax({\n    type:    'POST',\n    url:     window[form_config].ajaxUrl,\n    data:    post_form_value,\n    success: function() {\n      $(request_form_element).find('*').hide(1000);\n      $('.inforequest__title').html('<h3>Dank je voor je aanmelding!</h3>');\n      $(request_form_element).prepend('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n      if (null !== readCookie('greenpeace')){\n        createCookie('gpnl_education', 1, 365);\n        if (window[form_config].hider === '1') {\n          $('.inforequest__wrapper').nextAll().show(1000);\n          $('.inforequest__message').hide(1000);\n\n        }\n      }\n      else{\n        enableDownloadlinks();\n      }\n\n    },\n    error: function(){\n      // If the backend sends an error, hide the thank element and show an error urging to try again\n      showErrorMessage(request_form_element);\n    }\n  });\n});\n\n$('.gpnl-check__form').on('submit', function () {\n  check_form_element = this;\n  var post_form_value = getFormObj(check_form_element);\n  post_form_value.action = 'check_form_process';\n  post_form_value.nonce  = window[form_config].nonce;\n\n  toggleDisable($(check_form_element).find('*'));\n  if (post_form_value.human !== '') {\n    showErrorMessage(check_form_element);\n    return;\n  }\n\n  $.ajax({\n    type:    'POST',\n    url:     window[form_config].ajaxUrl,\n    data:    post_form_value,\n    success: function() {\n      $(check_form_element).find('*').hide(1000);\n      $('.inforequest__title').html('<h3>Welkom terug!</h3>');\n      $(check_form_element).prepend('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n      if (null !== readCookie('greenpeace')){\n        createCookie('gpnl_education', 1, 365);\n        if (window[form_config].hider === '1') {\n          $('.inforequest__wrapper').nextAll().show(1000);\n          $('.inforequest__message').hide(1000);\n        }\n      }\n      else {\n        enableDownloadlinks();\n      }\n\n    },\n    error: function(){\n      // If the backend sends an error, hide the thank element and show an error urging to try again\n      $('.resetBtn').remove('*');\n      $('.gpnl-check__form').hide(1000);\n      $('.gpnl-request__form').prepend('<p>Dit emailadres is niet bij ons bekend. Wil je je inschrijven?');\n      $('.gpnl-request__form').show(1000);\n      $('.hideshowbtn').remove('*');\n    }\n  });\n});\n\n// Get the key+value from the input fields in the form\nfunction getFormObj(el) {\n  var formObj = {};\n  var inputs = $(el).serializeArray();\n  $.each(inputs, function (i, input) {\n    formObj[input.name] = input.value;\n  });\n  return formObj;\n}\n\nfunction showErrorMessage(request_form_element) {\n  $(request_form_element).find('*').hide();\n  $(request_form_element).append('Oh nee!');\n  $(request_form_element).append('<p>Hier gaat helaas iets mis, sorry. </p>');\n  $(request_form_element).append(\n    '<a href=\\''+window.location.href +'\\' class=\"btn btn-primary btn-block\"' +\n    '\">Probeer je het nog eens? </a>');\n}\n\n// Toggle the disabled state on form elements\nfunction toggleDisable(el) {\n  el.prop('disabled', !el.prop('disabled'));\n}\n\nfunction createCookie(name, value, days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  document.cookie = encodeURI(name) + '=' + encodeURI(value) + ';domain=.' + document.domain + ';path=/;' + '; expires=' + date.toGMTString();\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + '=';\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n    if (c.indexOf(nameEQ) === 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n\nfunction enableDownloadlinks() {\n  $('.cover-card-column').each(function(){\n    let cover = this;\n    $(cover).find('a').each(function(){\n      let link = this;\n      let href = $(this).attr('href');\n      $(link).attr('href', href + '?e=1');\n    });\n  });\n}\n"],"sourceRoot":""}