!function(t){var n={};function __webpack_require__(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(t,n,o){__webpack_require__.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,n){if(1&n&&(t=__webpack_require__(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(__webpack_require__.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)__webpack_require__.d(o,r,function(n){return t[n]}.bind(null,r));return o},__webpack_require__.n=function(t){var n=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=35)}({16:function(t,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},18:function(t,n,o){(function(r){var a,s;"undefined"!=typeof self&&self,void 0===(s="function"==typeof(a=function(){"function"!=typeof Promise&&function(n){function b(t,n){return function(){t.apply(n,arguments)}}function c(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],i(t,b(e,this),b(f,this))}function d(t){var n=this;return null===this._state?void this._deferreds.push(t):void a((function(){var o=n._state?t.onFulfilled:t.onRejected;if(null!==o){var r;try{r=o(n._value)}catch(n){return void t.reject(n)}t.resolve(r)}else(n._state?t.resolve:t.reject)(n._value)}))}function e(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void i(b(n,t),b(e,this),b(f,this))}this._state=!0,this._value=t,g.call(this)}catch(t){f.call(this,t)}}function f(t){this._state=!1,this._value=t,g.call(this)}function g(){for(var t=0,n=this._deferreds.length;n>t;t++)d.call(this,this._deferreds[t]);this._deferreds=null}function h(t,n,o,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=o,this.reject=r}function i(t,n,o){var r=!1;try{t((function(t){r||(r=!0,n(t))}),(function(t){r||(r=!0,o(t))}))}catch(t){if(r)return;r=!0,o(t)}}var o=setTimeout,a="function"==typeof r&&r||function(t){o(t,1)},s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,n){var o=this;return new c((function(r,a){d.call(o,new h(t,n,r,a))}))},c.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new c((function(n,o){function d(a,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,(function(t){d(a,t)}),o)}t[a]=s,0==--r&&n(t)}catch(t){o(t)}}if(0===t.length)return n([]);for(var r=t.length,a=0;a<t.length;a++)d(a,t[a])}))},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(n){n(t)}))},c.reject=function(t){return new c((function(n,o){o(t)}))},c.race=function(t){return new c((function(n,o){for(var r=0,a=t.length;a>r;r++)t[r].then(n,o)}))},c._setImmediateFn=function(t){a=t},t.exports?t.exports=c:n.Promise||(n.Promise=c)}(this),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&function(){function CustomEvent(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),"undefined"==typeof HTMLCanvasElement||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,o){for(var r=atob(this.toDataURL(n,o).split(",")[1]),a=r.length,s=new Uint8Array(a),l=0;l<a;l++)s[l]=r.charCodeAt(l);t(new Blob([s],{type:n||"image/png"}))}});var n,o,a,s=["Webkit","Moz","ms"],l="undefined"!=typeof document?document.createElement("div").style:{},u=[1,8,3,6],p=[2,7,4,5];function vendorPrefix(t){if(t in l)return t;for(var n=t[0].toUpperCase()+t.slice(1),o=s.length;o--;)if((t=s[o]+n)in l)return t}function deepExtend(t,n){for(var o in t=t||{},n)n[o]&&n[o].constructor&&n[o].constructor===Object?(t[o]=t[o]||{},deepExtend(t[o],n[o])):t[o]=n[o];return t}function clone(t){return deepExtend({},t)}function dispatchChange(t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),t.dispatchEvent(n)}else t.fireEvent("onchange")}function css(t,n,o){if("string"==typeof n){var r=n;(n={})[r]=o}for(var a in n)t.style[a]=n[a]}function addClass(t,n){t.classList?t.classList.add(n):t.className+=" "+n}function setAttributes(t,n){for(var o in n)t.setAttribute(o,n[o])}function num(t){return parseInt(t,10)}function naturalImageDimensions(t,n){var o=t.naturalWidth,r=t.naturalHeight,a=n||getExifOrientation(t);if(a&&a>=5){var s=o;o=r,r=s}return{width:o,height:r}}o=vendorPrefix("transform"),n=vendorPrefix("transformOrigin"),a=vendorPrefix("userSelect");var m={translate3d:{suffix:", 0px"},translate:{suffix:""}},Transform=function(t,n,o){this.x=parseFloat(t),this.y=parseFloat(n),this.scale=parseFloat(o)};Transform.parse=function(t){return t.style?Transform.parse(t.style[o]):t.indexOf("matrix")>-1||t.indexOf("none")>-1?Transform.fromMatrix(t):Transform.fromString(t)},Transform.fromMatrix=function(t){var n=t.substring(7).split(",");return n.length&&"none"!==t||(n=[1,0,0,1,0,0]),new Transform(num(n[4]),num(n[5]),parseFloat(n[0]))},Transform.fromString=function(t){var n=t.split(") "),o=n[0].substring(Croppie.globals.translate.length+1).split(","),r=n.length>1?n[1].substring(6):1,a=o.length>1?o[0]:0,s=o.length>1?o[1]:0;return new Transform(a,s,r)},Transform.prototype.toString=function(){var t=m[Croppie.globals.translate].suffix||"";return Croppie.globals.translate+"("+this.x+"px, "+this.y+"px"+t+") scale("+this.scale+")"};var TransformOrigin=function(t){if(!t||!t.style[n])return this.x=0,void(this.y=0);var o=t.style[n].split(" ");this.x=parseFloat(o[0]),this.y=parseFloat(o[1])};function getExifOrientation(t){return t.exifdata&&t.exifdata.Orientation?num(t.exifdata.Orientation):1}function drawCanvas(t,n,o){var r=n.width,a=n.height,s=t.getContext("2d");switch(t.width=n.width,t.height=n.height,s.save(),o){case 2:s.translate(r,0),s.scale(-1,1);break;case 3:s.translate(r,a),s.rotate(180*Math.PI/180);break;case 4:s.translate(0,a),s.scale(1,-1);break;case 5:t.width=a,t.height=r,s.rotate(90*Math.PI/180),s.scale(1,-1);break;case 6:t.width=a,t.height=r,s.rotate(90*Math.PI/180),s.translate(0,-a);break;case 7:t.width=a,t.height=r,s.rotate(-90*Math.PI/180),s.translate(-r,a),s.scale(1,-1);break;case 8:t.width=a,t.height=r,s.translate(0,r),s.rotate(-90*Math.PI/180)}s.drawImage(n,0,0,r,a),s.restore()}function _create(){var t,n,o,r,a,s,l=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||_hasExif.call(this),this.data={},this.elements={},t=this.elements.boundary=document.createElement("div"),o=this.elements.viewport=document.createElement("div"),n=this.elements.img=document.createElement("img"),r=this.elements.overlay=document.createElement("div"),this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),this.elements.preview=this.elements.canvas):this.elements.preview=n,addClass(t,"cr-boundary"),t.setAttribute("aria-dropeffect","none"),a=this.options.boundary.width,s=this.options.boundary.height,css(t,{width:a+(isNaN(a)?"":"px"),height:s+(isNaN(s)?"":"px")}),addClass(o,"cr-viewport"),l&&addClass(o,l),css(o,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),o.setAttribute("tabindex",0),addClass(this.elements.preview,"cr-image"),setAttributes(this.elements.preview,{alt:"preview","aria-grabbed":"false"}),addClass(r,"cr-overlay"),this.element.appendChild(t),t.appendChild(this.elements.preview),t.appendChild(o),t.appendChild(r),addClass(this.element,"croppie-container"),this.options.customClass&&addClass(this.element,this.options.customClass),_initDraggable.call(this),this.options.enableZoom&&_initializeZoom.call(this),this.options.enableResize&&_initializeResize.call(this)}function _hasExif(){return this.options.enableExif&&window.EXIF}function _initializeResize(){var t,n,o,r,s,l,u,p=this,m=document.createElement("div"),v=!1;function mouseDown(l){if((void 0===l.button||0===l.button)&&(l.preventDefault(),!v)){var u=p.elements.overlay.getBoundingClientRect();if(v=!0,n=l.pageX,o=l.pageY,t=-1!==l.currentTarget.className.indexOf("vertical")?"v":"h",r=u.width,s=u.height,l.touches){var m=l.touches[0];n=m.pageX,o=m.pageY}window.addEventListener("mousemove",mouseMove),window.addEventListener("touchmove",mouseMove),window.addEventListener("mouseup",mouseUp),window.addEventListener("touchend",mouseUp),document.body.style[a]="none"}}function mouseMove(a){var l=a.pageX,u=a.pageY;if(a.preventDefault(),a.touches){var v=a.touches[0];l=v.pageX,u=v.pageY}var w=l-n,y=u-o,_=p.options.viewport.height+y,C=p.options.viewport.width+w;"v"===t&&_>=50&&_<=s?(css(m,{height:_+"px"}),p.options.boundary.height+=y,css(p.elements.boundary,{height:p.options.boundary.height+"px"}),p.options.viewport.height+=y,css(p.elements.viewport,{height:p.options.viewport.height+"px"})):"h"===t&&C>=50&&C<=r&&(css(m,{width:C+"px"}),p.options.boundary.width+=w,css(p.elements.boundary,{width:p.options.boundary.width+"px"}),p.options.viewport.width+=w,css(p.elements.viewport,{width:p.options.viewport.width+"px"})),_updateOverlay.call(p),_updateZoomLimits.call(p),_updateCenterPoint.call(p),_triggerUpdate.call(p),o=u,n=l}function mouseUp(){v=!1,window.removeEventListener("mousemove",mouseMove),window.removeEventListener("touchmove",mouseMove),window.removeEventListener("mouseup",mouseUp),window.removeEventListener("touchend",mouseUp),document.body.style[a]=""}addClass(m,"cr-resizer"),css(m,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(addClass(l=document.createElement("div"),"cr-resizer-vertical"),m.appendChild(l)),this.options.resizeControls.width&&(addClass(u=document.createElement("div"),"cr-resizer-horisontal"),m.appendChild(u)),l&&(l.addEventListener("mousedown",mouseDown),l.addEventListener("touchstart",mouseDown)),u&&(u.addEventListener("mousedown",mouseDown),u.addEventListener("touchstart",mouseDown)),this.elements.boundary.appendChild(m)}function _setZoomerVal(t){if(this.options.enableZoom){var n=this.elements.zoomer,o=fix(t,4);n.value=Math.max(parseFloat(n.min),Math.min(parseFloat(n.max),o)).toString()}}function _initializeZoom(){var t=this,n=t.elements.zoomerWrap=document.createElement("div"),o=t.elements.zoomer=document.createElement("input");function change(){_onZoom.call(t,{value:parseFloat(o.value),origin:new TransformOrigin(t.elements.preview),viewportRect:t.elements.viewport.getBoundingClientRect(),transform:Transform.parse(t.elements.preview)})}function scroll(n){var o,r;if("ctrl"===t.options.mouseWheelZoom&&!0!==n.ctrlKey)return 0;o=n.wheelDelta?n.wheelDelta/1200:n.deltaY?n.deltaY/1060:n.detail?n.detail/-60:0,r=t._currentZoom+o*t._currentZoom,n.preventDefault(),_setZoomerVal.call(t,r),change.call(t)}addClass(n,"cr-slider-wrap"),addClass(o,"cr-slider"),o.type="range",o.step="0.0001",o.value="1",o.style.display=t.options.showZoomer?"":"none",o.setAttribute("aria-label","zoom"),t.element.appendChild(n),n.appendChild(o),t._currentZoom=1,t.elements.zoomer.addEventListener("input",change),t.elements.zoomer.addEventListener("change",change),t.options.mouseWheelZoom&&(t.elements.boundary.addEventListener("mousewheel",scroll),t.elements.boundary.addEventListener("DOMMouseScroll",scroll))}function _onZoom(t){var r=this,a=t?t.transform:Transform.parse(r.elements.preview),s=t?t.viewportRect:r.elements.viewport.getBoundingClientRect(),l=t?t.origin:new TransformOrigin(r.elements.preview);function applyCss(){var t={};t[o]=a.toString(),t[n]=l.toString(),css(r.elements.preview,t)}if(r._currentZoom=t?t.value:r._currentZoom,a.scale=r._currentZoom,r.elements.zoomer.setAttribute("aria-valuenow",r._currentZoom),applyCss(),r.options.enforceBoundary){var u=_getVirtualBoundaries.call(r,s),p=u.translate,m=u.origin;a.x>=p.maxX&&(l.x=m.minX,a.x=p.maxX),a.x<=p.minX&&(l.x=m.maxX,a.x=p.minX),a.y>=p.maxY&&(l.y=m.minY,a.y=p.maxY),a.y<=p.minY&&(l.y=m.maxY,a.y=p.minY)}applyCss(),v.call(r),_triggerUpdate.call(r)}function _getVirtualBoundaries(t){var n=this._currentZoom,o=t.width,r=t.height,a=this.elements.boundary.clientWidth/2,s=this.elements.boundary.clientHeight/2,l=this.elements.preview.getBoundingClientRect(),u=l.width,p=l.height,m=o/2,v=r/2,w=-1*(m/n-a),y=-1*(v/n-s),_=1/n*m,C=1/n*v;return{translate:{maxX:w,minX:w-(u*(1/n)-o*(1/n)),maxY:y,minY:y-(p*(1/n)-r*(1/n))},origin:{maxX:u*(1/n)-_,minX:_,maxY:p*(1/n)-C,minY:C}}}function _updateCenterPoint(t){var r=this._currentZoom,a=this.elements.preview.getBoundingClientRect(),s=this.elements.viewport.getBoundingClientRect(),l=Transform.parse(this.elements.preview.style[o]),u=new TransformOrigin(this.elements.preview),p=s.top-a.top+s.height/2,m=s.left-a.left+s.width/2,v={},w={};if(t){var y=u.x,_=u.y,C=l.x,x=l.y;v.y=y,v.x=_,l.y=C,l.x=x}else v.y=p/r,v.x=m/r,w.y=(v.y-u.y)*(1-r),w.x=(v.x-u.x)*(1-r),l.x-=w.x,l.y-=w.y;var E={};E[n]=v.x+"px "+v.y+"px",E[o]=l.toString(),css(this.elements.preview,E)}function _initDraggable(){var t,n,r,s,l,u=this,p=!1;function assignTransformCoordinates(t,n){var o=u.elements.preview.getBoundingClientRect(),r=l.y+n,a=l.x+t;u.options.enforceBoundary?(s.top>o.top+n&&s.bottom<o.bottom+n&&(l.y=r),s.left>o.left+t&&s.right<o.right+t&&(l.x=a)):(l.y=r,l.x=a)}function toggleGrabState(t){u.elements.preview.setAttribute("aria-grabbed",t),u.elements.boundary.setAttribute("aria-dropeffect",t?"move":"none")}function mouseDown(o){if((void 0===o.button||0===o.button)&&(o.preventDefault(),!p)){if(p=!0,t=o.pageX,n=o.pageY,o.touches){var r=o.touches[0];t=r.pageX,n=r.pageY}toggleGrabState(p),l=Transform.parse(u.elements.preview),window.addEventListener("mousemove",mouseMove),window.addEventListener("touchmove",mouseMove),window.addEventListener("mouseup",mouseUp),window.addEventListener("touchend",mouseUp),document.body.style[a]="none",s=u.elements.viewport.getBoundingClientRect()}}function mouseMove(a){a.preventDefault();var s=a.pageX,p=a.pageY;if(a.touches){var m=a.touches[0];s=m.pageX,p=m.pageY}var v=s-t,w=p-n,y={};if("touchmove"===a.type&&a.touches.length>1){var _=a.touches[0],C=a.touches[1],x=Math.sqrt((_.pageX-C.pageX)*(_.pageX-C.pageX)+(_.pageY-C.pageY)*(_.pageY-C.pageY));r||(r=x/u._currentZoom);var E=x/r;return _setZoomerVal.call(u,E),void dispatchChange(u.elements.zoomer)}assignTransformCoordinates(v,w),y[o]=l.toString(),css(u.elements.preview,y),_updateOverlay.call(u),n=p,t=s}function mouseUp(){toggleGrabState(p=!1),window.removeEventListener("mousemove",mouseMove),window.removeEventListener("touchmove",mouseMove),window.removeEventListener("mouseup",mouseUp),window.removeEventListener("touchend",mouseUp),document.body.style[a]="",_updateCenterPoint.call(u),_triggerUpdate.call(u),r=0}u.elements.overlay.addEventListener("mousedown",mouseDown),u.elements.viewport.addEventListener("keydown",(function keyDown(t){var n;if(!t.shiftKey||38!==t.keyCode&&40!==t.keyCode){if(u.options.enableKeyMovement&&t.keyCode>=37&&t.keyCode<=40){t.preventDefault();var p=function parseKeyDown(t){switch(t){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(t.keyCode);l=Transform.parse(u.elements.preview),document.body.style[a]="none",s=u.elements.viewport.getBoundingClientRect(),function keyMove(t){var n=t[0],s=t[1],p={};assignTransformCoordinates(n,s),p[o]=l.toString(),css(u.elements.preview,p),_updateOverlay.call(u),document.body.style[a]="",_updateCenterPoint.call(u),_triggerUpdate.call(u),r=0}(p)}}else n=38===t.keyCode?parseFloat(u.elements.zoomer.value)+parseFloat(u.elements.zoomer.step):parseFloat(u.elements.zoomer.value)-parseFloat(u.elements.zoomer.step),u.setZoom(n)})),u.elements.overlay.addEventListener("touchstart",mouseDown)}function _updateOverlay(){if(this.elements){var t=this.elements.boundary.getBoundingClientRect(),n=this.elements.preview.getBoundingClientRect();css(this.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}}TransformOrigin.prototype.toString=function(){return this.x+"px "+this.y+"px"};var v=function debounce(t,n,o){var r;return function(){var a=this,s=arguments,later=function(){r=null,o||t.apply(a,s)},l=o&&!r;clearTimeout(r),r=setTimeout(later,n),l&&t.apply(a,s)}}(_updateOverlay,500);function _triggerUpdate(){var t,n=this.get();_isVisible.call(this)&&(this.options.update.call(this,n),this.$&&"undefined"==typeof Prototype?this.$(this.element).trigger("update.croppie",n):(window.CustomEvent?t=new CustomEvent("update",{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,n),this.element.dispatchEvent(t)))}function _isVisible(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function _updatePropertiesFromImage(){var t,r={},a=this.elements.preview,s=new Transform(0,0,1),l=new TransformOrigin;_isVisible.call(this)&&!this.data.bound&&(this.data.bound=!0,r[o]=s.toString(),r[n]=l.toString(),r.opacity=1,css(a,r),t=this.elements.preview.getBoundingClientRect(),this._originalImageWidth=t.width,this._originalImageHeight=t.height,this.data.orientation=_hasExif.call(this)?getExifOrientation(this.elements.img):this.data.orientation,this.options.enableZoom?_updateZoomLimits.call(this,!0):this._currentZoom=1,s.scale=this._currentZoom,r[o]=s.toString(),css(a,r),this.data.points.length?_bindPoints.call(this,this.data.points):_centerImage.call(this),_updateCenterPoint.call(this),_updateOverlay.call(this))}function _updateZoomLimits(t){var n,o,r,a,s=Math.max(this.options.minZoom,0)||0,l=this.options.maxZoom||1.5,u=this.elements.zoomer,p=parseFloat(u.value),m=this.elements.boundary.getBoundingClientRect(),v=naturalImageDimensions(this.elements.img,this.data.orientation),w=this.elements.viewport.getBoundingClientRect();this.options.enforceBoundary&&(r=w.width/v.width,a=w.height/v.height,s=Math.max(r,a)),s>=l&&(l=s+1),u.min=fix(s,4),u.max=fix(l,4),!t&&(p<u.min||p>u.max)?_setZoomerVal.call(this,p<u.min?u.min:u.max):t&&(o=Math.max(m.width/v.width,m.height/v.height),n=null!==this.data.boundZoom?this.data.boundZoom:o,_setZoomerVal.call(this,n)),dispatchChange(u)}function _bindPoints(t){if(4!==t.length)throw"Croppie - Invalid number of points supplied: "+t;var r=t[2]-t[0],a=this.elements.viewport.getBoundingClientRect(),s=this.elements.boundary.getBoundingClientRect(),l=a.left-s.left,u=a.top-s.top,p=a.width/r,m=t[1],v=t[0],w=-1*t[1]+u,y=-1*t[0]+l,_={};_[n]=v+"px "+m+"px",_[o]=new Transform(y,w,p).toString(),css(this.elements.preview,_),_setZoomerVal.call(this,p),this._currentZoom=p}function _centerImage(){var t=this.elements.preview.getBoundingClientRect(),n=this.elements.viewport.getBoundingClientRect(),r=this.elements.boundary.getBoundingClientRect(),a=n.left-r.left,s=n.top-r.top,l=a-(t.width-n.width)/2,u=s-(t.height-n.height)/2,p=new Transform(l,u,this._currentZoom);css(this.elements.preview,o,p.toString())}function _transferImageToCanvas(t){var n=this.elements.canvas,o=this.elements.img;n.getContext("2d").clearRect(0,0,n.width,n.height),n.width=o.width,n.height=o.height,drawCanvas(n,o,this.options.enableOrientation&&t||getExifOrientation(o))}function _getCanvas(t){var n=t.points,o=num(n[0]),r=num(n[1]),a=num(n[2])-o,s=num(n[3])-r,l=t.circle,u=document.createElement("canvas"),p=u.getContext("2d"),m=t.outputWidth||a,v=t.outputHeight||s;u.width=m,u.height=v,t.backgroundColor&&(p.fillStyle=t.backgroundColor,p.fillRect(0,0,m,v));var w=o,y=r,_=a,C=s,x=0,E=0,I=m,T=v;return o<0&&(w=0,x=Math.abs(o)/a*m),_+w>this._originalImageWidth&&(I=(_=this._originalImageWidth-w)/a*m),r<0&&(y=0,E=Math.abs(r)/s*v),C+y>this._originalImageHeight&&(T=(C=this._originalImageHeight-y)/s*v),p.drawImage(this.elements.preview,w,y,_,C,x,E,I,T),l&&(p.fillStyle="#fff",p.globalCompositeOperation="destination-in",p.beginPath(),p.arc(u.width/2,u.height/2,u.width/2,0,2*Math.PI,!0),p.closePath(),p.fill()),u}function _getHtmlResult(t){var n=t.points,o=document.createElement("div"),r=document.createElement("img"),a=n[2]-n[0],s=n[3]-n[1];return addClass(o,"croppie-result"),o.appendChild(r),css(r,{left:-1*n[0]+"px",top:-1*n[1]+"px"}),r.src=t.url,css(o,{width:a+"px",height:s+"px"}),o}function _getBase64Result(t){return _getCanvas.call(this,t).toDataURL(t.format,t.quality)}function _getBlobResult(t){var n=this;return new Promise((function(o){_getCanvas.call(n,t).toBlob((function(t){o(t)}),t.format,t.quality)}))}function _replaceImage(t){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(n){t.classList.add(n)})),this.elements.img.parentNode.replaceChild(t,this.elements.img),this.elements.preview=t),this.elements.img=t}function _bind(t,n){var o,r=this,a=[],s=null,l=_hasExif.call(r);if("string"==typeof t)o=t,t={};else if(Array.isArray(t))a=t.slice();else{if(void 0===t&&r.data.url)return _updatePropertiesFromImage.call(r),_triggerUpdate.call(r),null;o=t.url,a=t.points||[],s=void 0===t.zoom?null:t.zoom}return r.data.bound=!1,r.data.url=o||r.data.url,r.data.boundZoom=s,function loadImage(t,n){if(!t)throw"Source image missing";var o=new Image;return o.style.opacity="0",new Promise((function(r,a){function _resolve(){o.style.opacity="1",setTimeout((function(){r(o)}),1)}o.removeAttribute("crossOrigin"),t.match(/^https?:\/\/|^\/\//)&&o.setAttribute("crossOrigin","anonymous"),o.onload=function(){n?EXIF.getData(o,(function(){_resolve()})):_resolve()},o.onerror=function(t){o.style.opacity=1,setTimeout((function(){a(t)}),1)},o.src=t}))}(o,l).then((function(o){if(_replaceImage.call(r,o),a.length)r.options.relative&&(a=[a[0]*o.naturalWidth/100,a[1]*o.naturalHeight/100,a[2]*o.naturalWidth/100,a[3]*o.naturalHeight/100]);else{var s,l,u=naturalImageDimensions(o),p=r.elements.viewport.getBoundingClientRect(),m=p.width/p.height;u.width/u.height>m?s=(l=u.height)*m:(s=u.width,l=u.height/m);var v=(u.width-s)/2,w=(u.height-l)/2,y=v+s,_=w+l;r.data.points=[v,w,y,_]}r.data.orientation=t.orientation||1,r.data.points=a.map((function(t){return parseFloat(t)})),r.options.useCanvas&&_transferImageToCanvas.call(r,r.data.orientation),_updatePropertiesFromImage.call(r),_triggerUpdate.call(r),n&&n()}))}function fix(t,n){return parseFloat(t).toFixed(n||0)}function _get(){var t=this.elements.preview.getBoundingClientRect(),n=this.elements.viewport.getBoundingClientRect(),o=n.left-t.left,r=n.top-t.top,a=(n.width-this.elements.viewport.offsetWidth)/2,s=(n.height-this.elements.viewport.offsetHeight)/2,l=o+this.elements.viewport.offsetWidth+a,u=r+this.elements.viewport.offsetHeight+s,p=this._currentZoom;(p===1/0||isNaN(p))&&(p=1);var m=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return o=Math.max(m,o/p),r=Math.max(m,r/p),l=Math.max(m,l/p),u=Math.max(m,u/p),{points:[fix(o),fix(r),fix(l),fix(u)],zoom:p,orientation:this.data.orientation}}var w={type:"canvas",format:"png",quality:1},y=["jpeg","webp","png"];function _result(t){var n=this,o=_get.call(n),r=deepExtend(clone(w),clone(t)),a="string"==typeof t?t:r.type||"base64",s=r.size||"viewport",l=r.format,u=r.quality,p=r.backgroundColor,m="boolean"==typeof r.circle?r.circle:"circle"===n.options.viewport.type,v=n.elements.viewport.getBoundingClientRect(),_=v.width/v.height;return"viewport"===s?(o.outputWidth=v.width,o.outputHeight=v.height):"object"==typeof s&&(s.width&&s.height?(o.outputWidth=s.width,o.outputHeight=s.height):s.width?(o.outputWidth=s.width,o.outputHeight=s.width/_):s.height&&(o.outputWidth=s.height*_,o.outputHeight=s.height)),y.indexOf(l)>-1&&(o.format="image/"+l,o.quality=u),o.circle=m,o.url=n.data.url,o.backgroundColor=p,new Promise((function(t){switch(a.toLowerCase()){case"rawcanvas":t(_getCanvas.call(n,o));break;case"canvas":case"base64":t(_getBase64Result.call(n,o));break;case"blob":_getBlobResult.call(n,o).then(t);break;default:t(_getHtmlResult.call(n,o))}}))}function _refresh(){_updatePropertiesFromImage.call(this)}function _rotate(t){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var n=this.elements.canvas;if(this.data.orientation=function getExifOffset(t,n){var o=u.indexOf(t)>-1?u:p,r=o.indexOf(t),a=n/90%o.length;return o[(o.length+r+a%o.length)%o.length]}(this.data.orientation,t),drawCanvas(n,this.elements.img,this.data.orientation),_updateCenterPoint.call(this,!0),_updateZoomLimits.call(this),Math.abs(t)/90%2==1){var o=this._originalImageHeight,r=this._originalImageWidth;this._originalImageWidth=o,this._originalImageHeight=r}}function _destroy(){this.element.removeChild(this.elements.boundary),function removeClass(t,n){t.classList?t.classList.remove(n):t.className=t.className.replace(n,"")}(this.element,"croppie-container"),this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap),delete this.elements}if("undefined"!=typeof window&&window.jQuery){var _=window.jQuery;_.fn.croppie=function(t){var n=typeof t;if("string"===n){var o=Array.prototype.slice.call(arguments,1),r=_(this).data("croppie");return"get"===t?r.get():"result"===t?r.result.apply(r,o):"bind"===t?r.bind.apply(r,o):this.each((function(){var n=_(this).data("croppie");if(n){var r=n[t];if(!_.isFunction(r))throw"Croppie "+t+" method not found";r.apply(n,o),"destroy"===t&&_(this).removeData("croppie")}}))}return this.each((function(){var n=new Croppie(this,t);n.$=_,_(this).data("croppie",n)}))}}function Croppie(t,n){if(t.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=t,this.options=deepExtend(clone(Croppie.defaults),n),"img"===this.element.tagName.toLowerCase()){var o=this.element;addClass(o,"cr-original-image"),setAttributes(o,{"aria-hidden":"true",alt:""});var r=document.createElement("div");this.element.parentNode.appendChild(r),r.appendChild(o),this.element=r,this.options.url=this.options.url||o.src}if(_create.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,_bind.call(this,a)}}return Croppie.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},Croppie.globals={translate:"translate3d"},deepExtend(Croppie.prototype,{bind:function(t,n){return _bind.call(this,t,n)},get:function(){var t=_get.call(this),n=t.points;return this.options.relative&&(n[0]/=this.elements.img.naturalWidth/100,n[1]/=this.elements.img.naturalHeight/100,n[2]/=this.elements.img.naturalWidth/100,n[3]/=this.elements.img.naturalHeight/100),t},result:function(t){return _result.call(this,t)},refresh:function(){return _refresh.call(this)},setZoom:function(t){_setZoomerVal.call(this,t),dispatchChange(this.elements.zoomer)},rotate:function(t){_rotate.call(this,t)},destroy:function(){return _destroy.call(this)}}),Croppie})?a.call(n,o,n,t):a)||(t.exports=s)}).call(this,o(31).setImmediate)},31:function(t,n,o){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function Timeout(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new Timeout(a.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new Timeout(a.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function onTimeout(){t._onTimeout&&t._onTimeout()}),n))},o(32),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,o(16))},32:function(t,n,o){(function(t,n){!function(t,o){"use strict";if(!t.setImmediate){var r,a=1,s={},l=!1,u=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function installNextTickImplementation(){r=function(t){n.nextTick((function(){runIfPresent(t)}))}}():!function canUsePostMessage(){if(t.postMessage&&!t.importScripts){var n=!0,o=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=o,n}}()?t.MessageChannel?function installMessageChannelImplementation(){var t=new MessageChannel;t.port1.onmessage=function(t){runIfPresent(t.data)},r=function(n){t.port2.postMessage(n)}}():u&&"onreadystatechange"in u.createElement("script")?function installReadyStateChangeImplementation(){var t=u.documentElement;r=function(n){var o=u.createElement("script");o.onreadystatechange=function(){runIfPresent(n),o.onreadystatechange=null,t.removeChild(o),o=null},t.appendChild(o)}}():function installSetTimeoutImplementation(){r=function(t){setTimeout(runIfPresent,0,t)}}():function installPostMessageImplementation(){var n="setImmediate$"+Math.random()+"$",onGlobalMessage=function(o){o.source===t&&"string"==typeof o.data&&0===o.data.indexOf(n)&&runIfPresent(+o.data.slice(n.length))};t.addEventListener?t.addEventListener("message",onGlobalMessage,!1):t.attachEvent("onmessage",onGlobalMessage),r=function(o){t.postMessage(n+o,"*")}}(),p.setImmediate=function setImmediate(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),o=0;o<n.length;o++)n[o]=arguments[o+1];var l={callback:t,args:n};return s[a]=l,r(a),a++},p.clearImmediate=clearImmediate}function clearImmediate(t){delete s[t]}function runIfPresent(t){if(l)setTimeout(runIfPresent,0,t);else{var n=s[t];if(n){l=!0;try{!function run(t){var n=t.callback,o=t.args;switch(o.length){case 0:n();break;case 1:n(o[0]);break;case 2:n(o[0],o[1]);break;case 3:n(o[0],o[1],o[2]);break;default:n.apply(void 0,o)}}(n)}finally{clearImmediate(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,o(16),o(33))},33:function(t,n){var o,r,a=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(o===setTimeout)return setTimeout(t,0);if((o===defaultSetTimout||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(n){try{return o.call(null,t,0)}catch(n){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){o=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var s,l=[],u=!1,p=-1;function cleanUpNextTick(){u&&s&&(u=!1,s.length?l=s.concat(l):p=-1,l.length&&drainQueue())}function drainQueue(){if(!u){var t=runTimeout(cleanUpNextTick);u=!0;for(var n=l.length;n;){for(s=l,l=[];++p<n;)s&&s[p].run();p=-1,n=l.length}s=null,u=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function Item(t,n){this.fun=t,this.array=n}function noop(){}a.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)n[o-1]=arguments[o];l.push(new Item(t,n)),1!==l.length||u||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=noop,a.addListener=noop,a.once=noop,a.off=noop,a.removeListener=noop,a.removeAllListeners=noop,a.emit=noop,a.prependListener=noop,a.prependOnceListener=noop,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},35:function(t,n,o){"use strict";o.r(n);var r=o(18),a=o.n(r),s=document.getElementById("profile-picture-overlay"),l=document.createElement("div");l.className="canvas_container",document.createElement("div").className="canvas_wrap";var u=new Image;u.crossOrigin="anonymous",u.src=s.dataset.overlayImage;var p=document.createElement("input");p.type="file",p.id="imageLoader",p.name="imageLoader",p.style.display="none",p.addEventListener("change",(function handleImageUpload(t){var n=new FileReader;n.onload=function(t){var n=new Image;n.crossOrigin="anonymous",n.src=t.target.result,n.onload=function(){l.style.display="block",m.innerText="upload andere foto",m.className="btn btn-link",w.style.display="inline-block",_.bind({url:t.target.result})}},n.readAsDataURL(t.target.files[0])}),!1);var m=document.createElement("button");m.className="btn btn-primary upload",m.textContent="upload foto",m.addEventListener("click",(function(){return p.click()}));var v=document.createElement("div");v.className="button-row";var w=document.createElement("button");w.innerText="download",w.className="btn btn-primary download",w.style.display="none",w.addEventListener("click",(function(){return function downloadCanvasAsImage(){_.result({type:"rawcanvas",size:"original"}).then((function(t){t.getContext("2d").drawImage(u,0,0,u.width,u.height,0,0,t.width,t.height);var n=t.toDataURL("image/png"),o=document.createElement("a");o.setAttribute("download","profile-picture.png"),o.setAttribute("href",n),o.click()}))}()}));var y=document.createElement("div");y.className="croppie-wrapper";var _=new a.a(y,{viewport:{width:"100%",height:"100%"},boundary:{width:"100%",height:"100%"},showZoomer:!1,enableOrientation:!0,enableExif:!0,mouseWheelZoom:"ctrl"});l.appendChild(y),v.appendChild(w),s.appendChild(l),s.appendChild(m),s.appendChild(w),function addCss(t){var n=document.createElement("style");n.innerText=t,document.head.appendChild(n)}('.cr-viewport{background-image: url("'.concat(u.src,'");background-size: cover;"}'))}});