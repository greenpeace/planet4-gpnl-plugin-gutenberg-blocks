{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/blocks/Inforequest/js/InforequestHelper.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","request_form_element","check_form_element","form_config","getFormObj","el","formObj","inputs","$","serializeArray","each","input","showErrorMessage","find","hide","append","window","location","href","toggleDisable","prop","createCookie","days","date","Date","setTime","getTime","document","cookie","encodeURI","domain","toGMTString","readCookie","nameEQ","ca","split","length","charAt","substring","indexOf","enableDownloadlinks","this","attr","ready","auth","URLSearchParams","search","has","hider","nextAll","html","after","show","on","form","data","post_form_value","action","nonce","literaturecode","human","ajax","type","url","ajaxUrl","success","prepend","error","remove"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,oBAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,qBAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,oBAAAQ,EAAAF,EAGAN,oBAAAS,EAAAV,EAGAC,oBAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,oBAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,oBAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,oBAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,SAAAC,aAA2B,OAAApB,EAAA,SAC3B,SAAAqB,mBAAiC,OAAArB,GAEjC,OADAH,oBAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,oBAAAa,EAAA,SAAAY,EAAAC,GAAsD,OAAAZ,OAAAa,UAAAC,eAAArB,KAAAkB,EAAAC,IAGtD1B,oBAAA6B,EAAA,GAIA7B,wCAAA8B,EAAA;;;;4CCnEA,IAAIC,EAAuB,GACvBC,EAAqB,GACrBC,EAAc,sBAoHlB,SAASC,WAAWC,GAClB,IAAIC,EAAU,GACVC,EAASC,EAAEH,GAAII,iBAInB,OAHAD,EAAEE,KAAKH,EAAQ,SAAUjC,EAAGqC,GAC1BL,EAAQK,EAAM9B,MAAQ8B,EAAMrB,QAEvBgB,EAGT,SAASM,iBAAiBX,GACxBO,EAAEP,GAAsBY,KAAK,KAAKC,OAClCN,EAAEP,GAAsBc,OAAO,WAC/BP,EAAEP,GAAsBc,OAAO,6CAC/BP,EAAEP,GAAsBc,OACtB,YAAaC,OAAOC,SAASC,KAAM,uEAKvC,SAASC,cAAcd,GACrBA,EAAGe,KAAK,YAAaf,EAAGe,KAAK,aAG/B,SAASC,aAAaxC,EAAMS,EAAOgC,GACjC,IAAIC,EAAO,IAAIC,KACfD,EAAKE,QAAQF,EAAKG,UAAoB,GAAPJ,EAAY,GAAK,GAAK,KACrDK,SAASC,OAASC,UAAUhD,GAAQ,IAAMgD,UAAUvC,GAAS,YAAcqC,SAASG,OAAS,qBAA4BP,EAAKQ,cAGhI,SAASC,WAAWnD,GAGlB,IAFA,IAAIoD,EAASpD,EAAO,IAChBqD,EAAKP,SAASC,OAAOO,MAAM,KACtB7D,EAAI,EAAGA,EAAI4D,EAAGE,OAAQ9D,IAAK,CAElC,IADA,IAAIK,EAAIuD,EAAG5D,GACY,MAAhBK,EAAE0D,OAAO,IACd1D,EAAIA,EAAE2D,UAAU,EAAG3D,EAAEyD,QAEvB,GAA0B,IAAtBzD,EAAE4D,QAAQN,GACZ,OAAOtD,EAAE2D,UAAUL,EAAOG,OAAQzD,EAAEyD,QAGxC,OAAO,KAGT,SAASI,sBACPhC,EAAE,sBAAsBE,KAAK,WAE3BF,EADYiC,MACH5B,KAAK,KAAKH,KAAK,WACtB,IACIQ,EAAOV,EAAEiC,MAAMC,KAAK,QACxBlC,EAFWiC,MAEHC,KAAK,OAAQxB,EAAO,YApKlCV,EAAEmB,UAAUgB,MAAM,WAChB,IAAIC,EAAO,IAAIC,gBAAgB7B,OAAOC,SAAS6B,QAAQC,IAAI,KACtD,MAAQ/B,OAAOb,GAAa6C,QAC/BxC,EAAE,yBAAyByC,UAAUnC,OACrCN,EAAE,uBAAuB0C,KAAK,oCAC9B1C,EAAE,uBAAuB2C,MAAM,gGAE7B,OAASnB,WAAW,mBAAqBY,GAC3CpC,EAAE,uBAAuB0C,KAAK,0BAC9B1C,EAAE,yBAAyB0C,KAAK,uDAChC1C,EAAE,yBAAyByC,UAAUG,KAAK,MAG1C5C,EAAE,gBAAgB4C,KAAK,OAI3B5C,EAAE,gBAAgB6C,GAAG,QAAS,WAC5B,IACIC,EADM9C,EAAEiC,MACIc,KAAK,UACrB/C,EAAE8C,GAAMF,KAAK,KACb5C,EAAE,gBAAgBM,KAAK,OAGzBN,EAAE,qBAAqB6C,GAAG,QAAS,WACjC7C,EAAEiC,MAAM3B,KAAK,KACbN,EAAE,gBAAgB4C,KAAK,OAGzB5C,EAAE,uBAAuB6C,GAAG,SAAU,WAEpC,IAAIG,EAAkBpD,WADtBH,EAAuBwC,MAEvBe,EAAgBC,OAAS,uBACzBD,EAAgBE,MAAS1C,OAAOb,GAAauD,MAC7CF,EAAgBG,eAAkB3C,OAAOb,GAAawD,eAEtDxC,cAAcX,EAAEP,GAAsBY,KAAK,MACb,KAA1B2C,EAAgBI,MAKpBpD,EAAEqD,KAAK,CACLC,KAAS,OACTC,IAAS/C,OAAOb,GAAa6D,QAC7BT,KAASC,EACTS,QAAS,SAAAA,UACPzD,EAAEP,GAAsBY,KAAK,KAAKC,KAAK,KACvCN,EAAE,uBAAuB0C,KAAK,wCAC9B1C,EAAEP,GAAsBiE,QAAQ,uDAC5B,OAASlC,WAAW,eACtBX,aAAa,iBAAkB,EAAG,KACA,MAA9BL,OAAOb,GAAa6C,QACtBxC,EAAE,yBAAyByC,UAAUG,KAAK,KAC1C5C,EAAE,yBAAyBM,KAAK,OAKlC0B,uBAIJ2B,MAAO,SAAAA,QAELvD,iBAAiBX,MA3BnBW,iBAAiBX,KAgCrBO,EAAE,qBAAqB6C,GAAG,SAAU,WAElC,IAAIG,EAAkBpD,WADtBF,EAAqBuC,MAErBe,EAAgBC,OAAS,qBACzBD,EAAgBE,MAAS1C,OAAOb,GAAauD,MAE7CvC,cAAcX,EAAEN,GAAoBW,KAAK,MACX,KAA1B2C,EAAgBI,MAKpBpD,EAAEqD,KAAK,CACLC,KAAS,OACTC,IAAS/C,OAAOb,GAAa6D,QAC7BT,KAASC,EACTS,QAAS,SAAAA,UACPzD,EAAEN,GAAoBW,KAAK,KAAKC,KAAK,KACrCN,EAAE,uBAAuB0C,KAAK,0BAC9B1C,EAAEN,GAAoBgE,QAAQ,uDAC1B,OAASlC,WAAW,eACtBX,aAAa,iBAAkB,EAAG,KACA,MAA9BL,OAAOb,GAAa6C,QACtBxC,EAAE,yBAAyByC,UAAUG,KAAK,KAC1C5C,EAAE,yBAAyBM,KAAK,OAIlC0B,uBAIJ2B,MAAO,SAAAA,QAEL3D,EAAE,aAAa4D,OAAO,KACtB5D,EAAE,qBAAqBM,KAAK,KAC5BN,EAAE,uBAAuB0D,QAAQ,oEACjC1D,EAAE,uBAAuB4C,KAAK,KAC9B5C,EAAE,gBAAgB4D,OAAO,QA9B3BxD,iBAAiBV","file":"inforequestHelper.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/src/blocks/Inforequest/js/InforequestHelper.js\");\n","var request_form_element = {};\nvar check_form_element = {};\nvar form_config = 'request_form_object';\n\n$(document).ready(function() {\n  let auth = new URLSearchParams(window.location.search).has('e');\n  if ( '1' === window[form_config].hider ) {\n    $('.inforequest__wrapper').nextAll().hide();\n    $('.inforequest__title').html('<h3>Lesmateriaal downloaden</h3>');\n    $('.inforequest__title').after('<p class=\"inforequest__message\">Registreer of log in om het lesmateriaal te downloaden.</p>');\n  }\n  if (null !== readCookie('gpnl_education') || auth ){\n    $('.inforequest__title').html('<h3>Welkom terug!</h3>');\n    $('.inforequest__message').html('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n    $('.inforequest__wrapper').nextAll().show(1000);\n  }\n  else{\n    $('.hideshowbtn').show(1000);\n  }\n});\n\n$('.hideshowbtn').on('click', function () {\n  let btn = $(this);\n  let form  = btn.data('target');\n  $(form).show(1000);\n  $('.hideshowbtn').hide(1000);\n});\n\n$('.inforequest_form').on('reset', function () {\n  $(this).hide(1000);\n  $('.hideshowbtn').show(1000);\n});\n\n$('.gpnl-request__form').on('submit', function () {\n  request_form_element = this;\n  var post_form_value = getFormObj(request_form_element);\n  post_form_value.action = 'request_form_process';\n  post_form_value.nonce  = window[form_config].nonce;\n  post_form_value.literaturecode  = window[form_config].literaturecode;\n\n  toggleDisable($(request_form_element).find('*'));\n  if (post_form_value.human !== '') {\n    showErrorMessage(request_form_element);\n    return;\n  }\n\n  $.ajax({\n    type:    'POST',\n    url:     window[form_config].ajaxUrl,\n    data:    post_form_value,\n    success: function() {\n      $(request_form_element).find('*').hide(1000);\n      $('.inforequest__title').html('<h3>Dank je voor je aanmelding!</h3>');\n      $(request_form_element).prepend('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n      if (null !== readCookie('greenpeace')){\n        createCookie('gpnl_education', 1, 365);\n        if (window[form_config].hider === '1') {\n          $('.inforequest__wrapper').nextAll().show(1000);\n          $('.inforequest__message').hide(1000);\n\n        }\n      }\n      else{\n        enableDownloadlinks();\n      }\n\n    },\n    error: function(){\n      // If the backend sends an error, hide the thank element and show an error urging to try again\n      showErrorMessage(request_form_element);\n    }\n  });\n});\n\n$('.gpnl-check__form').on('submit', function () {\n  check_form_element = this;\n  var post_form_value = getFormObj(check_form_element);\n  post_form_value.action = 'check_form_process';\n  post_form_value.nonce  = window[form_config].nonce;\n\n  toggleDisable($(check_form_element).find('*'));\n  if (post_form_value.human !== '') {\n    showErrorMessage(check_form_element);\n    return;\n  }\n\n  $.ajax({\n    type:    'POST',\n    url:     window[form_config].ajaxUrl,\n    data:    post_form_value,\n    success: function() {\n      $(check_form_element).find('*').hide(1000);\n      $('.inforequest__title').html('<h3>Welkom terug!</h3>');\n      $(check_form_element).prepend('<p>Je kan nu gebruikmaken van de lesmaterialen.</p>');\n      if (null !== readCookie('greenpeace')){\n        createCookie('gpnl_education', 1, 365);\n        if (window[form_config].hider === '1') {\n          $('.inforequest__wrapper').nextAll().show(1000);\n          $('.inforequest__message').hide(1000);\n        }\n      }\n      else {\n        enableDownloadlinks();\n      }\n\n    },\n    error: function(){\n      // If the backend sends an error, hide the thank element and show an error urging to try again\n      $('.resetBtn').remove('*');\n      $('.gpnl-check__form').hide(1000);\n      $('.gpnl-request__form').prepend('<p>Dit emailadres is niet bij ons bekend. Wil je je inschrijven?');\n      $('.gpnl-request__form').show(1000);\n      $('.hideshowbtn').remove('*');\n    }\n  });\n});\n\n// Get the key+value from the input fields in the form\nfunction getFormObj(el) {\n  var formObj = {};\n  var inputs = $(el).serializeArray();\n  $.each(inputs, function (i, input) {\n    formObj[input.name] = input.value;\n  });\n  return formObj;\n}\n\nfunction showErrorMessage(request_form_element) {\n  $(request_form_element).find('*').hide();\n  $(request_form_element).append('Oh nee!');\n  $(request_form_element).append('<p>Hier gaat helaas iets mis, sorry. </p>');\n  $(request_form_element).append(\n    '<a href=\\''+window.location.href +'\\' class=\"btn btn-primary btn-block\"' +\n    '\">Probeer je het nog eens? </a>');\n}\n\n// Toggle the disabled state on form elements\nfunction toggleDisable(el) {\n  el.prop('disabled', !el.prop('disabled'));\n}\n\nfunction createCookie(name, value, days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  document.cookie = encodeURI(name) + '=' + encodeURI(value) + ';domain=.' + document.domain + ';path=/;' + '; expires=' + date.toGMTString();\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + '=';\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n    if (c.indexOf(nameEQ) === 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n\nfunction enableDownloadlinks() {\n  $('.cover-card-column').each(function(){\n    let cover = this;\n    $(cover).find('a').each(function(){\n      let link = this;\n      let href = $(this).attr('href');\n      $(link).attr('href', href + '?e=1');\n    });\n  });\n}\n"],"sourceRoot":""}